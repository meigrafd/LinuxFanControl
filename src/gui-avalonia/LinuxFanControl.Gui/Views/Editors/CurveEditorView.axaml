<UserControl
    x:Class="LinuxFanControl.Gui.Views.Editors.CurveEditorView"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:dg="clr-namespace:Avalonia.Controls;assembly=Avalonia.Controls.DataGrid">
  <Grid RowDefinitions="Auto,Auto,*,Auto" ColumnDefinitions="*,Auto" Margin="8">
    <TextBlock Grid.Row="0" Grid.ColumnSpan="2" Text="{Binding Title}" FontSize="16" FontWeight="SemiBold"/>
    <StackPanel Grid.Row="1" Orientation="Horizontal" Spacing="8" Margin="0,6,0,6">
      <Button Content="Add Point" Command="{Binding AddPointCommand}"/>
      <Button Content="Reset" Command="{Binding ResetCommand}"/>
      <TextBlock Text="Hysteresis:" Margin="12,0,0,0"/>
      <NumericUpDown Width="80" Value="{Binding Hysteresis}" Minimum="0" Maximum="20"/>
      <TextBlock Text="Response τ (s):" Margin="12,0,0,0"/>
      <NumericUpDown Width="80" Value="{Binding ResponseTau}" Minimum="0" Maximum="60"/>
    </StackPanel>

    <!-- Table of points -->
    <dg:DataGrid Grid.Row="2" AutoGenerateColumns="False" CanUserAddRows="False" CanUserDeleteRows="False"
                 Items="{Binding Points}">
      <dg:DataGrid.Columns>
        <dg:DataGridTextColumn Header="X (°C)" Binding="{Binding X}" Width="*" />
        <dg:DataGridTextColumn Header="Y (%)"  Binding="{Binding Y}" Width="*" />
      </dg:DataGrid.Columns>
    </dg:DataGrid>

    <StackPanel Grid.Row="3" Grid.ColumnSpan="2" Orientation="Horizontal" HorizontalAlignment="Right" Spacing="8">
      <Button Content="Apply" Command="{Binding ApplyCommand}"/>
      <Button Content="Close" Command="{Binding CloseCommand}"/>
    </StackPanel>
  </Grid>
</UserControl>
