<?xml version="1.0" encoding="utf-8"?>
<UserControl
    x:Class="LinuxFanControl.Gui.Views.Controls.FanTile"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:lvc="clr-namespace:LiveChartsCore.SkiaSharpView.Avalonia;assembly=LiveChartsCore.SkiaSharpView.Avalonia">

  <!-- Pure selector-based styles (Avalonia 11): no DataTrigger/SelectorTrigger -->
  <UserControl.Styles>
    <!-- Subtle hover effect on the whole tile -->
    <Style Selector="Border#Tile:pointerover">
      <Setter Property="Opacity" Value="0.96"/>
    </Style>

    <!-- Hover effect on the Edit button -->
    <Style Selector="Button#EditBtn:pointerover">
      <Setter Property="Opacity" Value="0.90"/>
    </Style>
  </UserControl.Styles>

  <Border x:Name="Tile" CornerRadius="10" Margin="6" Padding="10">
    <Grid RowDefinitions="Auto,Auto,Auto" ColumnDefinitions="*,Auto">
      <!-- Title / Subtitle -->
      <TextBlock Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2"
                 Text="{Binding Title}" FontWeight="Bold" FontSize="14"/>
      <TextBlock Grid.Row="1" Grid.Column="0" Text="{Binding Subtitle}" Opacity="0.75"/>

      <!-- Edit button -->
      <Button x:Name="EditBtn" Grid.Row="1" Grid.Column="1" MinWidth="72"
              Content="Edit" Command="{Binding EditCommand}"/>

      <!-- Mini chart (LiveCharts) -->
      <lvc:CartesianChart Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2" Height="110"
                          Series="{Binding Series}"
                          XAxes="{Binding XAxes}"
                          YAxes="{Binding YAxes}" />
    </Grid>
  </Border>
</UserControl>
